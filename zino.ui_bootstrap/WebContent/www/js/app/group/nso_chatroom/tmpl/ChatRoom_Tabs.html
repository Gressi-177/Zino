<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Main -->
<div class="card margin-bottom-xs-0">
    <div class="p-3 border-bottom" id="div_chat_header"></div>
    <div id="div_chat_realize">
    	 <div class="chat-conversation" id="div_chat_msg"></div>
    	 <div id="div_chat_footer"></div>
    </div>					   
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Header -->
<div class="row">
	<div class="col-sm-12 col-md-3 col-4">
		<h5 class="font-size-15 mb-1" id="h_name_ent">{{reqStrTitleChatPrj user.name}}</h5>
		{{#equal typChat 1}} {{#if isOnline}}
		<p class="text-muted mb-0">
			<i class="mdi mdi-circle text-success align-middle mr-1"></i>{{transl
			'prj_chat_active_now'}}
		</p>
		{{else}}
		<p class="text-muted mb-0">
			<i class="mdi mdi-circle align-middle mr-1"></i>{{transl
			'prj_chat_not_active'}}
		</p>
		{{/if}} {{/equal}}
	</div>
	<div class="col-sm-12 col-md-9 col-8">
		<ul class="list-inline user-chat-nav text-right mb-0">
			<li class="list-inline-item d-sm-inline-block">
				<div class="dropdown">
					<i class="bx bx-search-alt search-icon icon-chat-search-msg"
						id="btn_search_chat"></i> <input type="text"
						class="form-control chat-search"
						placeholder="{{transl 'prj_chat_search_placeholder'}}"
						placeholder={{transl 'prj_chat_active_now'}} id="inp_search_chat">
					<i
						class="bx bxs-x-circle search-icon icon-chat-cancel-search-msg hide"
						id="btn_cancel_search_chat"></i>
				</div>
			</li>
			<li class="list-inline-item d-sm-inline-block">
				<div class="dropdown">
					<button id="btn_call_video" class="btn nav-btn " type="button"
						aria-haspopup="true" aria-expanded="false">
						<i class="bx bx-phone"></i>
					</button>
				</div>
			</li>
			
<!-- 			{{#equal typChat 2}} 
			
			{{#if isMasterKinesis}}
			<li class="list-inline-item d-sm-inline-block">
				<div class="dropdown">
					<button id="btn_create_stream" class="btn nav-btn " type="button"
						aria-haspopup="true" aria-expanded="false" data-toggle="tooltip"
						data-placement="top" title="" data-original-title="Stream">
						<i class="bx bx-slideshow"></i>
					</button>
				</div>
			</li> 
			{{else}}
			<li class="list-inline-item d-sm-inline-block">
				<div class="dropdown">
					<button id="btn_refresh_channel" class="btn nav-btn " type="button"
						aria-haspopup="true" aria-expanded="false" data-toggle="tooltip"
						data-placement="top" title="" data-original-title="Watch Stream">
						<i class="bx  bx-broadcast {{#if isCallKinesis}} flicker {{/if}}"></i>
					</button>
				</div>
			</li>
			{{/if}}
			
			{{/equal}}
			
			{{#equal typChat 1}} 
			<li class="list-inline-item d-sm-inline-block">
				<div class="dropdown">
					<button id="btn_create_stream" class="btn nav-btn " type="button"
						aria-haspopup="true" aria-expanded="false" data-toggle="tooltip"
						data-placement="top" title="" data-original-title="Stream">
						<i class="bx bx-slideshow"></i>
					</button>
				</div>
			</li>
			<li class="list-inline-item d-sm-inline-block">
				<div class="dropdown">
					<button id="btn_refresh_channel" class="btn nav-btn " type="button"
						aria-haspopup="true" aria-expanded="false" data-toggle="tooltip"
						data-placement="top" title="" data-original-title="Watch Stream">
						<i class="bx  bx-broadcast {{#if isCallKinesis}} flicker {{/if}}"></i>
					</button>
				</div>
			</li>
			{{/equal}}
			 -->

			<li class="list-inline-item d-sm-inline-block">
				<span class="badge badge-danger badge-pill" id="sp_nbWaiting_notify"></span>
				<div class="dropdown">
					<button class="btn nav-btn" type="button" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false">
						<i class="bx bx-cog"></i>
					</button>
					<div class="dropdown-menu dropdown-menu-right">
						<a class="dropdown-item" href="javascript:void(0)" id="btn-sound"><i
							class='bx bx-volume-full'></i> {{transl 'prj_chat_sound'}}</a> <a
							class="dropdown-item hide" href="javascript:void(0)"
							id="btn-sound-off"><i class='bx bx-volume-mute'></i> {{transl
							'prj_chat_sound'}}</a> {{#equal typChat 1}} <a class="dropdown-item"
							href="view_prj_user_content.html?id={{user.id}}" target="_blank"><i
							class='bx bx-check'></i> {{transl
							'prj_project_member_see_profile'}}</a> <a class="dropdown-item"
							href="javascript:void(0)" id="btn_clear_chat"><i
							class='bx bx-trash'></i> {{transl
							'prj_project_member_see_clear'}}</a> {{/equal}} {{#equalOrs typChat 2
						10}} <a class="dropdown-item" href="javascript:void(0)"
							id="btn_view_info"><i class='bx bx-check-double'></i>
							{{transl 'prj_project_member_see_info_grp'}}</a> {{#if
						isManager}}{{#if canDelete}}<a class="dropdown-item"
							href="javascript:void(0)" id="btn_delete_group"><i
							class='bx bx-trash-alt'></i> {{transl
							'prj_project_member_delete_group'}}</a>{{/if}}{{/if}} <a
							class="dropdown-item" href="javascript:void(0)"
							id="btn_out_group"><i class="mdi mdi-logout"></i> {{transl
							'prj_chat_out_group_btn_out_group'}}</a> {{#if isManager}}{{#if
						canDelete}}<a class="dropdown-item" href="javascript:void(0)"
							id="btn_clear_chat"><i class='bx bx-trash'></i> {{transl
							'prj_project_member_see_clear'}}</a>{{/if}}{{/if}} {{/equalOrs}}

					</div>
				</div>
			</li>

			<li class="list-inline-item d-none d-sm-inline-block">
				<div class="dropdown show_mobile">
					<a data-divtoggle="#div_chat_realize"
						class="btn nav-btn dropdown-toggle btn-resize-middle btn-resize-mobile-hide"
						type="button" data-toggle="tooltip" data-placement="top" title=""
						data-original-title="Resize"> <i
						class="mdi mdi-window-minimize font-size-18"></i>
					</a>
				</div>

				<div class="dropdown hide_mobile">
					<a href="javascript:void(0)"
						class="mr-2 btn nav-btn btn-resize-col"> <i
						class="mdi mdi-arrow-expand text-muted h5"></i>
					</a>
				</div>
			</li>

		</ul>
	</div>
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Content -->
{{#* inline "files"}}
	{{#if files}}
	{{#each files}}
		{{#if (isImage fUrl)}}
		<img src="{{decodeUTF8 fUrl}}" class="files_content_chat mw-100 min-w-50" data-path="{{decodeUTF8 fUrl}}">
		{{else}}															
		<p><a class="files_content_chat" href="javascript:void(0)" data-path="{{decodeUTF8 fUrl}}">{{decodeUTF8 fName}}</a></p>
		{{/if}}
	{{/each}}
	{{/if}}
{{/inline}}

<ul id="ul_lst_msg" class="list-unstyled chat-content" data-simplebar>
	{{#if isShowLoadMore}}
	<li> 
	    <div class="chat-day-title" id="btn_load_more">
	        <span class="title cursor-pointer">{{transl 'prj_chat_load_more'}}</span>
	    </div>
	</li>
	{{/if}}
	
<!-- 	<li>  -->
<!-- 	    <div class="chat-day-title"> -->
<!-- 	        <span class="title">{{transl 'prj_chat_today'}}</span> -->
<!-- 	    </div> -->
<!-- 	</li> -->

	<div id="ul_lst_msg_append">
	{{#if hasMsg}}
		{{#each lstMessage}}
		<div id="li_msg_item_append_{{id}}" {{#if forMe}}class="right"{{/if}}>                                           	
			<li id="li_msg_id_{{id}}" class="message-item unselectable">
				<div class="conversation-list conversation-position">
					<div class="dropdown d-flex hide">
						<a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<i class="bx bx-dots-vertical-rounded"></i>
						</a>
						{{#unless forMe}}
						<a class="content-reponse pt-1"  href="javascript:void(0)" data-user="{{dataUser.login01}}" data-msg="{{innerText inf04 20}}">
							<i class="mdi mdi-reply"></i>
						</a>
						{{/unless}}
						
						<div class="dropdown-menu">
							<a class="dropdown-item content-copy" data-body="{{inf04}}" href="#">{{transl 'prj_chat_copy'}}</a>
							<a class="dropdown-item content-hide" href="#" data-id={{id}} data-dt="{{dt}}" data-grpid={{entId}} data-grptyp={{entTyp}}>{{transl 'prj_chat_hide'}}</a>
	<!-- 	                <a class="dropdown-item" href="#">{{transl 'prj_chat_save'}}</a> -->
	<!-- 	                <a class="dropdown-item" href="#">{{transl 'prj_chat_forward'}}</a> -->
							{{#if forMe}}
							<a class="dropdown-item content-delete" href="#" data-id={{id}} data-dt="{{dt}}" data-grpid={{entId}} data-grptyp={{entTyp}}>{{transl 'prj_chat_delete'}}</a>
							{{/if}}
						</div>
					</div>
					
					<div class="ctext-wrap content-msg-item {{#unless forMe}}not-me-message{{/unless}} {{#if forMe}}right{{/if}} chat-padding-bottom">
						<div class="msg-item align-items-center">		         	
							<span class="chat-time {{#if forMe}}right{{else}}left{{/if}} mb-0 chat-time-hover">
								<b class="conversation-name">{{dataUser.login01}}</b>
								({{reqConvertTimeZone dt}})
							</span>
							
							{{#unless forMe}}
							<div class="msg-body-other">
								<p class="text-justify chat-msg-bottom chat-msg-font-size">{{{inf04}}}</p>
								{{> files}}
							</div> 
							
							<div class="msg-avatar-left">
								{{#if dataUser.avatar}}
								<img src="{{reqSrcAvatarChat dataUser}}" class="rounded-circle avatar-chat" alt="" onerror="{{imageErrorUser}}">
								{{else}}
								<div class="rounded-circle avatar-chat text-white text-uppercase" style="background-color:{{reqSrcTextColor dataUser.login01}}">
									<div class="text-middle">{{reqSrcTextAvatar dataUser.login01}}</div>
								</div>
								{{/if}}
							</div>	                                       
							{{/unless}}
							
							{{#if forMe}}
							<div class="msg-body-forme">
								{{> files}}
								<p class="text-justify chat-msg-bottom chat-msg-font-size">{{{inf04}}}</p>
							</div>
							
							<div class="msg-avatar-right">
								{{#if dataUser.avatar}}
								<img src="{{reqSrcAvatarChat dataUser}}" class="rounded-circle avatar-chat" alt="" onerror="{{imageErrorUser}}">
								{{else}}
								<div class="rounded-circle avatar-chat text-white text-uppercase" style="background-color:{{reqSrcTextColor dataUser.login01}}">
									<div class="text-middle">{{reqSrcTextAvatar dataUser.login01}}</div>
								</div>
								{{/if}}
							</div>
							{{/if}}
						</div>
					</div>
					
				</div>
			</li>	
			{{#if hasHistory}}
			<li id="li_msg_read_{{id}}" class="message-item message-read">	
				{{#each lstHistory}}
				<div class="conversation-list conversation-position">
					{{#if avatar.avatar}}
					<img src="{{reqSrcAvatarChat avatar}}" class="rounded-circle avatar-read" alt="" onerror="{{imageErrorUser}}">
					{{else}}
					<div class="rounded-circle avatar-read text-white text-uppercase" style="background-color: {{reqSrcTextColor avatar.login01}}">
						<div class="text-middle-small">{{reqSrcTextAvatar avatar.login01}}</div>
					</div>
					{{/if}}
				</div>
				{{/each}}
			</li>
			{{/if}}
		
		</div>
		{{/each}}
		
	{{else}}
		 <li class="msg-noMsg">{{transl 'prj_chat_no_msg'}}</li>
	{{/if}}  
	
	</div> 
	    
</ul>                                     
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Footer -->
<div id="div_inp_file" class="p-3 chat-input-section hide">
	<div class="row">
		<div class="col">
			<div class="position-relative">
				<form action="/" method="post" class="dropzone inputfile">
					<div class="fallback">
						<input data-name="file" type="file" multiple />
					</div>

					<div class="dz-message needsclick">
						<div class="mb-3">
							<i class="display-4 text-muted bx bxs-cloud-upload"></i>
						</div>
						<h4>{{transl 'prj_project_drop_files'}}</h4>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<div id="div_inp_capture" class="camera-div hide">
	<div id="my_camera" class=""></div>
	<img id="photo_res" class="img-capture"></img>

	<a href="javascript:void(0)" id="close_sc" class="camera icon-close" data-placement="bottom"
		title="Close camera">
		<i class="mdi mdi-close"></i>
	</a>

	<a href="javascript:void(0)" id="switch_cam" class="camera icon-close-left" data-placement="bottom"
		title="Close switch">
		<i class="mdi mdi-cached"></i>
	</a>

	

	<a href="javascript:void(0)" id="take_sc" class="camera icon-custom icon-mid" data-placement="bottom"
		title="Take Snapshot">
		<i class="mdi mdi-camera"></i>
	</a>

	<a href="javascript:void(0)" id="trash" class="camera icon-custom icon-disabled" data-placement="bottom" title="Delete Capture">
		<i class="mdi mdi-delete"></i>
	</a>

	<a href="javascript:void(0)" id="send_sc" class="camera icon-custom icon-right icon-disabled" data-placement="bottom"
		title="Send">
		<i class="mdi mdi-send"></i>
	</a>

</div>

<div class="p-3 chat-input-section">
	<div id="div_msg_with_img" class="chat-overflow chat-lst-img hide">
		<div id="div_chat_list_img" class="chat-row-img"></div>
	</div>
	<div class="row">
		<!-- 	                                        	<div class="dropdown h-100"> -->
		<!--                                                     <button class="btn nav-btn dropdown-toggle btn-mobile_show" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> -->
		<!--                                                         <i class="bx bx-dots-horizontal-rounded"></i> -->
		<!--                                                     </button> -->
		<!--                                                     <div class="dropdown-menu change-mode_text" style="" aria-labelledby="dropdownMenuButton"> -->
		<!--                                                         <a class="dropdown-item" href="javascript:void(0)" id="btn_trans_simple">{{transl 'prj_chat_inp_change_simple'}}</a> -->
		<!--                                                         <a class="dropdown-item" href="javascript:void(0)" id="btn_trans_summer">{{transl 'prj_chat_inp_change_summer'}}</a> -->
		<!--                                                     </div> -->
		<!--                                                 </div> -->

		<div class="dropdown h-100">
			<button id="btn_add_file" class="btn nav-btn btn-mobile_show btn-not-recording" type="button" data-toggle="dropdown"
				aria-haspopup="true" aria-expanded="false">
				<a href="javascript:void(0)" data-placement="bottom" title="Add Files"><i
						class="mdi mdi-file-document-outline"></i></a>
			</button>

			<button id="btn_capture" class="btn nav-btn btn-mobile_show mobile_version btn-not-recording" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<a href="javascript:void(0)" data-placement="bottom" title="Capture"><i class="mdi mdi-camera"></i></a>
			</button>
			<button id="btn_recorder" class="btn nav-btn btn-mobile_show" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<a href="javascript:void(0)" data-placement="bottom" title="Recorder"><i class="mdi mdi-microphone font-size-14"></i></a>
			</button>
			<button id="btn_recorder_stop" class="btn nav-btn text-danger" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none">
				X
			</button>
			
			<br />
		</div>
		<div class="col px-0">
			<div class="position-relative">
				{{#if simpleChat}}
				<!-- <input type="text" class="form-control chat-input" id="inp_msg"> -->
				<!-- <div class="emoji"></div> -->
				<div contenteditable="true" class="form-control input" id="inp_msg" autofocus></div>
				{{else}}
				<textarea class="form-control chat-input" id="inp_msg" autofocus></textarea>
				{{/if}}
				
				<div class='sound-wave hide_recording'>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				    <i class='bar'></i>
				  </div>
				

<!-- 				<div id="recording" class="col-sm-3 control-label hide"> -->
<!-- 					<span class="text-danger"><strong>RECORDING</strong></span>&nbsp; <span id="time-display">00:00</span> -->
<!-- 				</div> -->

				<div class="chat-input-links btn-not-recording" {{#if simpleChat}} style="top: 50%" {{/if}}>
					<div class="list-inline mb-0 emoji">
						<div id="div_table_emoji" class="table_emoji d-none"></div>
						<div id="btn_add_emoji" class="list-inline-item"><a href="javascript:void(0)"
								data-toggle="tooltip"><i id="i-emoji" class="mdi mdi-emoticon-happy-outline"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>
 
		<div class="dropdown h-100 btn-not-recording">
			<button id="btn_send_like_direct" class="btn nav-btn" type="button" data-toggle="dropdown"
				aria-haspopup="true" aria-expanded="false">&#128077;</button>
		</div>

		<div class="dropdown h-100">
			<button type="button" id="btn_send_msg"
				class="btn btn-primary btn-rounded chat-send waves-effect waves-light">
				<i class="mdi mdi-send"></i>
			</button>
		</div>
	</div>
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Group_Info -->
<div class="card">
    <div class="card-body">
        <div class="media">
        	<img src="{{reqSrcAvatarPrj @root}}" alt="" class="avatar-sm mr-4">
            <div class="media-body overflow-hidden">
                <h5 class="text-truncate font-size-16">{{obj.name}}</h5>
            </div>
        </div>

		<div>
			<h5 class="font-size-15 mt-4 info-edit">{{transl 'prj_chat_group_descr'}}</h5>
			<p class="text-muted " data-name="descr01">{{obj.descr}}</p>
		</div>
		<div>
			<h5 class="font-size-15 mt-4 info-edit">{{transl 'prj_chat_group_ref'}}</h5>
			<p class="text-muted " data-name="descr01">{{obj.ref}}</p>
		</div>
		
		<div>
			<h5 class="font-size-14 info-edit"><i class="bx bx-calendar mr-1 text-primary"></i>{{transl 'prj_chat_group_date_begin'}}</h5>
                    <p data-format="date" class="text-muted mb-0 " data-name="dtBegin">{{reqFormatDate obj.dt01}}</p>
		</div>
		
		<div class="pt-lg-4">
			{{#if hasJoin}}
			<button type="button" class="btn btn-primary" disabled>{{transl 'prj_chat_group_has_join'}}</button>
			<button type="button" class="btn btn-danger" id="btn_cancel_join">{{transl 'common_btn_cancel'}}</button>
			<button type="button" class="btn" id="btn_refresh_join">{{transl 'common_btn_refresh'}}</button>
			{{else}}
			<button data-id="{{obj.id}}" type="button" id="btn_join_group" class="btn btn-primary">{{transl 'prj_chat_group_join'}}</button>
			{{/if}}
		</div>
    </div>
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Group_Info_Popup -->
<div class="card mb-0">
    <div class="card-body">
		<div class="media-body overflow-hidden">
			<h5 class="font-size-15 mt-4 info-edit">{{transl 'prj_chat_group_name'}}</h5>
			<input id="chat_group_name" class="objData form-control" type="text" data-name="name" value={{obj.name}}></input>
		</div>
        <div class="media mt-4">
			{{#if obj.isManager}}
			<div id="frm_dropzone_send" class="fallback">

				<form action="/" method="post" class="dropzone inputfile">
					<div class="fallback">
						<input data-name="files" type="file" class="objData" data-typ01="10" data-typ02="1">
					</div>

					<div class="dz-message needsclick">
						<div class="mb-3">
							<i class="display-4 text-muted bx bxs-cloud-upload"></i>
						</div>
						<h4>{{transl 'prj_project_drop_files'}}</h4>
					</div>
				</form>
			</div>
			{{else}}
			<img src="{{obj.val01.img}}" alt="" class="avatar-sm mr-4">
			{{/if}}
		</div>
		{{#if obj.isManager}}
		{{#if obj.typ02}}
		<div>
			<h5 class="font-size-15 mt-4 info-edit">{{transl 'prj_chat_group_typ'}}</h5>
			<div class="select-wrapper">
				<select id="chat_group_typ" data-name="typ02" data-validation="required number" class="objData form-control">
					<option value="401">{{transl 'prj_chat_group_typ_pri'}}</option>
					<option value="402">{{transl 'prj_chat_group_typ_pub'}}</option>
				</select>
			</div>
		</div>
		{{/if}}
		{{/if}}

		{{#if obj.descr}}
		<div>
			<h5 class="font-size-15 mt-4 info-edit">{{transl 'prj_chat_group_descr'}}</h5>
			<p class="text-muted " data-name="descr01">{{obj.descr}}</p>
		</div>
		{{/if}}
		
		<div>
			<h5 class="font-size-15 mt-4 info-edit">{{transl 'prj_chat_group_ref'}}</h5>
			<p class="text-muted " data-name="descr01">{{obj.ref}}</p>
		</div>
		
		{{#ifCond obj.countMsg '>' 0}}
		<div>
			<h5 class="font-size-14 mt-4 info-edit">{{transl 'prj_chat_group_count_msg'}}</h5>
            <p data-format="date" class="text-muted ">{{obj.countMsg}}</p>
		</div>
		 {{/ifCond}}
		 
		 {{#ifCond obj.countFile '>' 0}}
		<div>
			<h5 class="font-size-14 mt-4 info-edit">{{transl 'prj_chat_group_count_file'}}</h5>
            <p data-format="date" class="text-muted ">{{obj.countFile}}</p>
		</div>
		 {{/ifCond}}
		 
		<div>
			<h5 class="font-size-14 mt-4 info-edit"><i class="bx bx-calendar mr-1 text-primary"></i>{{transl 'prj_chat_group_date_begin'}}</h5>
            <p data-format="date" class="text-muted " data-name="dtBegin">{{reqFormatDate obj.dt01}}</p>
		</div>
    </div>
</div>
<!--END TMPL-->

	
	
<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Content_Msg_Item -->
{{#* inline "files"}}
	{{#if files}}
		{{#each files}}
		{{#if (isImage fUrl)}}
		<img src="{{decodeUTF8 fUrl}}" class="files_content_chat mw-100 min-w-50" data-path="{{decodeUTF8 fUrl}}">
		{{else}}														
		<p><a class="files_content_chat" href="javascript:void(0)" data-path="{{decodeUTF8 fUrl}}">{{decodeUTF8 fName}}</a></p>
		 {{/if}}
		 {{/each}}
	{{/if}}
{{/inline}}
<div id="li_msg_item_append_{{id}}" class="{{#if forMe}}right{{/if}}">   
<li id="li_msg_id_{{id}}"  class="message-item unselectable">
	    <div class="conversation-list conversation-position">
	        <div class="dropdown d-flex hide">
	            <a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	                <i class="bx bx-dots-vertical-rounded"></i>
	            </a>
	            {{#unless forMe}}
	            <a class="content-reponse pt-1"  href="javascript:void(0)" data-user="{{dataUser.login01}}" data-msg="{{innerText body 20}}"><i class="mdi mdi-reply"></i></a>
	            {{/unless}}
	            <div class="dropdown-menu">
	                <a class="dropdown-item content-copy" data-body="{{body}}" href="#">{{transl 'prj_chat_copy'}}</a>
	                <a class="dropdown-item content-hide" href="#" data-id={{id}} data-dt="{{dt}}" data-grpid={{entId}} data-grptyp={{entTyp}}>{{transl 'prj_chat_hide'}}</a>
<!-- 	                <a class="dropdown-item" href="#">{{transl 'prj_chat_save'}}</a> -->
<!-- 	                <a class="dropdown-item" href="#">{{transl 'prj_chat_forward'}}</a> -->
	                {{#if forMe}}<a class="dropdown-item content-delete" href="#" data-id={{id}} data-dt="{{dt}}" data-grpid={{entId}} data-grptyp={{entTyp}}>{{transl 'prj_chat_delete'}}</a>{{/if}}
	               
	            </div>
	        </div>
	        <div class="ctext-wrap content-msg-item {{#unless forMe}}not-me-message{{/unless}} {{#if forMe}}right{{/if}} chat-padding-bottom">
		        <div class="msg-item align-items-center">		         	
		         	<span class="chat-time {{#if forMe}}right{{else}}left{{/if}} mb-0 chat-time-hover">
		         		<b class="conversation-name">{{dataUser.login01}}</b>
		         		({{reqConvertTimeZone dt}})
		         	</span>
		         	
		         	{{#if forMe}}
		         	<div class="msg-body-forme">
                       	{{> files}}
                       	<p class="text-justify chat-msg-bottom chat-msg-font-size">{{{body}}}</p>
                    </div>
                    
					<div class="msg-avatar-right">
                       	{{#if dataUser.avatar}}
	                       	{{#ifCond dataUser.avatar '==' null}}
	                       	 <div class="rounded-circle avatar-chat text-white text-uppercase" style="background-color: {{reqSrcTextColor dataUser.login01}}"><div class="text-middle">{{reqSrcTextAvatar dataUser.login01}}</div></div>
	                       	{{else}}
	                       	 <img src="{{reqSrcAvatarChat dataUser}}" class="rounded-circle avatar-chat" alt="" onerror="{{imageErrorUser}}">
	                       	{{/ifCond}}
                        {{else}}
                        <div class="rounded-circle avatar-chat text-white text-uppercase" style="background-color: {{reqSrcTextColor dataUser.login01}}"><div class="text-middle">{{reqSrcTextAvatar dataUser.login01}}</div></div>
                        {{/if}}
                    </div>
                    
					{{else}}
		        	<div class="msg-avatar-left">
                       	{{#if dataUser.avatar}}
	                       	{{#ifCond dataUser.avatar '==' null}}
	                       	 <div class="rounded-circle avatar-chat text-white text-uppercase" style="background-color: {{reqSrcTextColor dataUser.login01}}"><div class="text-middle">{{reqSrcTextAvatar dataUser.login01}}</div></div>
	                       	{{else}}
	                       	 <img src="{{reqSrcAvatarChat dataUser}}" class="rounded-circle avatar-chat" alt="" onerror="{{imageErrorUser}}">
	                       	{{/ifCond}}
                        {{else}}
                        <div class="rounded-circle avatar-chat text-white text-uppercase" style="background-color: {{reqSrcTextColor dataUser.login01}}"><div class="text-middle">{{reqSrcTextAvatar dataUser.login01}}</div></div>
                        {{/if}}
                    </div>
                    
                    <div class="msg-body-other">
						<p class="text-justify chat-msg-bottom chat-msg-font-size">{{{body}}}</p>
                        {{> files}}
                    </div>                    
                    {{/if}}
		        </div>
	         </div>
	     </div>
	</li>
	
{{#if hasHistory}}
	<li id="li_msg_read_{{id}}" class="{{#if forMe}}right{{/if}} message-item message-read">	
		{{#each lstHistory}}
		<div class="conversation-list conversation-position">
        	     {{#if avatar.avatar}}
                <img src="{{reqSrcAvatarChat avatar}}" class="rounded-circle avatar-read" alt="" onerror="{{imageErrorUser}}">
                {{else}}
                <div class="rounded-circle avatar-read text-white text-uppercase" style="background-color: {{reqSrcTextColor avatar.login01}}"><div class="text-middle">{{reqSrcTextAvatar avatar.login01}}</div></div>
                {{/if}}
        </div>
		{{/each}}
	</li>
{{/if}}
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Content_Msg_Read -->
<li id="li_msg_read_{{id}}" class="message-item message-read">	
	{{#each lstHistory}}
	<div class="conversation-list conversation-position" id = "div_avatar_{{avatar.id}}">
       	      	{{#if avatar.avatar}}
                <img src="{{reqSrcAvatarChat avatar}}" class="rounded-circle avatar-read" alt="" onerror="{{imageErrorUser}}">
                {{else}}
                <div class="rounded-circle avatar-read text-white text-uppercase" style="background-color: {{reqSrcTextColor avatar.login01}}"><div class="text-middle-small">{{reqSrcTextAvatar avatar.login01}}</div></div>
                {{/if}}
     </div>
	{{/each}}
</li>
<!--END TMPL-->


	
<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Content_Msg_Read_Item -->
<li id="li_msg_read_{{msgId}}" class="message-item message-read"> 
	<div class="conversation-list conversation-position" id = "div_avatar_{{mem.id}}">
       	     {{#if mem.avatar}}
               <img src="{{reqSrcAvatarChat mem}}" class="rounded-circle avatar-read" alt="" onerror="{{imageErrorUser}}">
               {{else}}
               <div class="rounded-circle avatar-read text-white text-uppercase" style="background-color: {{reqSrcTextColor mem.login01}}"><div class="text-middle-small">{{reqSrcTextAvatar mem.login01}}</div></div>
               {{/if}}
     </div>
</li>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Content_Msg_Read_Item_Content -->
<div class="conversation-list conversation-position" id = "div_avatar_{{mem.id}}">
	{{#if mem.avatar}}
    <img src="{{reqSrcAvatarChat mem}}" class="rounded-circle avatar-read" alt="" onerror="{{imageErrorUser}}">
    {{else}}
         <div class="rounded-circle avatar-read text-white text-uppercase" style="background-color: {{reqSrcTextColor mem.login01}}"><div class="text-middle-small">{{reqSrcTextAvatar mem.login01}}</div></div>
   {{/if}}
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Msgbox_Choice_Owner -->
<div class="card">
	<div class="card-body">
		<div class="mt-2">
             <p class="font-size-14 mb-4">{{transl 'prj_chat_out_group_msg_confirm_owner'}}</p>
             {{#if members}}
				{{#each members}}
	             <div class="custom-control custom-radio mb-3">
	                 <input type="radio" id="customRadio{{@index}}" value="{{uId}}" name="customRadio" class="custom-control-input sel-owner">
	                 <label class="custom-control-label" for="customRadio{{@index}}">{{mem.login01}}</label>
	             </div>
	             {{/each}}
			{{/if}}
         </div>
	</div>
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Doc_Main -->
<div class="card card-body">
	<div class="media">
    	<div class="col-sm-5">
   			<h4 class="card-title mb-4 media-body">{{transl 'common_files'}}</h4>
   		</div>
   		<div class="col-sm-7">
   			 <div class="dropdown float-right">
                    
                 <a href="javascript:void(0)" class="btn-vertital-docs dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false" style="display: none;">
                        <i class="mdi mdi-dots-vertical font-size-18"></i>
                 </a>
                    
                 <a data-divtoggle="#div_document" class="btn-resize-docs cursor-pointer" data-toggle="tooltip" data-placement="top" title="" data-original-title="Resize">
                   <i class="mdi mdi-window-maximize font-size-16 text-primary"></i>
                </a>
                
                    <ul class="dropdown-menu dropdown-menu-right">
                       <li><span id="btn_refresh_doc" class="dropdown-item cursor-pointer"><i class="mdi mdi-refresh font-size-16 text-primary mr-1"></i>{{transl 'common_refresh'}}</span></li>
                    </ul>
                </div>
         </div>
    </div>
    <div id="div_document" style="display: none;">
		<div id="div_docs_list"></div>
		<div id="div_docs_pagination"></div>
	</div>
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Doc_Detail -->
<div class="row" id="div_file_list">
	{{#if files}}
	{{#each files}}
	<div class="col-6 col-xs-6 col-sm-6 mb-1">
		{{#equal isImage true}}		        	
 		<img src="{{urlPrev}}" onerror ="src='www/img/prj/chat/file-icon.jpg'" class="img_group_chat" data-path01="{{urlPrev}}" title="{{fName}}"/>		        	
 	{{/equal}}
		{{#equal isImage false}}
			<img src="www/img/prj/chat/{{fileType}}.png" class="icon_group_chat" title="{{fName}}" style="height: 100px;"/>	
		{{/equal}}
		<span class="chat-file-name"> <a href="{{[urlPrev]}}" target='_blank' class='mr-3 text-decoration-underline truncate' title="{{reqNameStringFile name}}"> <i class="bx bx-paperclip"></i> {{reqNameStringFile name}} </a> </span>
	</div>
	{{/each}}
	{{else}}
 	<div>{{transl "common_null_data"}}</div>
 {{/if}}
</div>
<!--END TMPL-->


<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Post -->
<div class="card card-body">
	<div class="media">
		<div class="col-sm-5">
			<h4 class="card-title mb-4 media-body">{{transl 'prj_project_post'}}</h4>
		</div>
		<div class="col-sm-7">
			<div class="dropdown float-right">

				<a href="javascript:void(0)" class="dropdown-toggle card-drop" data-toggle="dropdown"
					aria-expanded="false">
					<i class="mdi mdi-dots-vertical font-size-18"></i>
				</a>

				<a data-divtoggle="#div_post_block" class="btn-resize-post cursor-pointer" data-toggle="tooltip" data-placement="top" title="" data-original-title="Resize">
					<i class="mdi mdi-window-maximize font-size-16 text-primary"></i>
				</a>

				<ul class="dropdown-menu dropdown-menu-right">
					<li><span id="btn_new_post" class="dropdown-item cursor-pointer"><i
								class="mdi mdi-newspaper-plus font-size-16 text-primary mr-1"></i>{{transl 'prj_project_new_post'}}</span></li>
					<li><span id="btn_lst_post" class="dropdown-item cursor-pointer"><i
								class="mdi mdi-newspaper-variant-multiple font-size-16 text-primary mr-1"></i>{{transl 'prj_project_lst_post'}}</span></li>
				</ul>
			</div>
		</div>
	</div>
	<div  id="div_post_block" style="display: none;">
		<div  id="div_post_list"></div>
	</div>
	
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Post_Detail -->
{{#if data}}
<div id="demo" class="slide_custom carousel slide" data-ride="carousel">

	<!-- Indicators -->
	<ul class="carousel-indicators">
		{{#each data}}
	  		<li data-target="#demo" data-slide-to={{@index}}></li>
		{{/each}}
	</ul>
	
	<!-- The slideshow -->
	<div class="carousel-inner">
		{{#each data}}
		<div class="carousel-item {{#ifCond @index '==' 0}}active{{/ifCond}}">
			<img class="slideshow-img" data-id={{id}} src="{{decodeFile avatar.urlPrev}}" onerror="{{url_image_err_deal}};" alt="{{title}}" height="130px">
			<div class="slideshow-title mt-3 sp-cat-name_{{id}} font-size-14">
				{{title}}
			</div>
		</div>
		{{/each}}
	</div>
	
	<!-- Left and right controls -->
	<a class="carousel-control-prev" href="#demo" data-slide="prev">
	  <span class="carousel-control-prev-icon"></span>
	</a>
	<a class="carousel-control-next" href="#demo" data-slide="next">
	  <span class="carousel-control-next-icon"></span>
	</a>
</div>
{{else}}
<div>{{transl "common_null_data"}}</div>
{{/if}}
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_User -->
<div>
<!--     <h5 class="font-size-14 mb-3">{{transl 'prj_chat_user_recent'}}</h5> -->
    <ul class="list-unstyled chat-list" data-simplebar>
    {{#each this}}
        <li class="chat-element">
            <a href="javascript:void(0)"  class="chat-item {{#if hasNewMsg}}has-new-msg-item{{/if}}" data-id="{{id}}">
                <div class="media align-items-center">
                    <div class="align-self-center mr-3">
                        <i class="mdi mdi-circle font-size-10 {{#if isOnline}}text-success{{/if}}"></i>
                    </div>
                    <div class="align-self-center mr-3">
                    	{{#if avatar}}
                        <img src="{{reqSrcAvatarChat this}}" class="rounded-circle avatar-xs" alt="" onerror="{{imageErrorUser}}">
                        {{else}}
                        <div class="rounded-circle avatar-xs text-white text-uppercase" style="background-color: {{reqSrcTextColor login01}}"><div class="text-middle">{{reqSrcTextAvatar login01}}</div></div>
                        {{/if}}
                    </div>
                    
                    <div class="media-body overflow-hidden">
                        {{#canBeGG login01}}
                        <h5 class="text-truncate font-size-14 mb-1">{{login01}}</h5>
                        {{else}}
                        <h5 class="text-truncate font-size-14 mb-1">{{email}}</h5>
                        {{/canBeGG}}
                    </div>
                </div>
            </a>
             <div class="show_chat_room" data-typ="1"  data-id="{{id}}">
                        <i class="mdi mdi-content-copy font-size-16 float-right"></i>
            	</div>
        </li>
       {{/each}}
    </ul>
</div>

<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Group -->
<div class="media pb-3">
	<div class="col-12">
         <div class="text-right">
         	<a href="javascript:void(0)" class="text-dark font-size-14 mt-3 font-weight-bold" id="btn_refresh_group">
				<i class="mdi mdi-refresh font-size-18 mr-2"></i>
			</a>
            <button id="btn_btn_new_group" type="button" class="btn btn-success btn-rounded waves-effect waves-light btn-sm"><i class="mdi mdi-plus mr-1"></i> {{transl 'prj_chat_group_new'}}</button>
         </div>
     </div>
</div>
		
<ul class="list-unstyled chat-list" data-simplebar style="max-height: calc(100vh - 350px)';">
{{#each this}}
    <li class="chat-element">
        <a href="javascript:void(0)" class="chat-item {{#if hasNewMsg}}has-new-msg-item{{/if}}" data-id="{{id}}">
            <div class="media align-items-center">
               {{#if avatar}}
               <div class="align-self-center mr-3">
                   <img src="{{avatar.url}}" class="rounded-circle avatar-xs" alt="" onerror="{{imageErrorUser}}">
               </div>
               {{else}}
                <div class="avatar-xs mr-3">
                    <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                        {{reqFirstLetter name}}
                    </span>
                </div>
                {{/if}}
                <div class="media-body">
                    <h5 class="font-size-14 mb-0">{{name}}</h5>
                </div>
                {{#if (isCallVideoKinesis @this)}}
                <div>
                	<i class="mdi mdi-video-wireless-outline text-danger"></i>
                </div>
                {{/if}}
            </div>
        </a>
         <div class="show_chat_room" data-typ="2"  data-id="{{id}}">
                    <i class="mdi mdi-content-copy font-size-16 float-right"></i>
                 </div>
    </li>
{{/each}}
</ul>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Group_New -->
<div class="card">
    <div class="card-body">
        <h4 class="card-title">{{transl 'prj_chat_group_new_title'}}</h4>
        <p class="card-title-desc">{{transl 'prj_chat_group_new_msg'}}</p>
        <div class="needs-validation" id="frm_new_group">
            <div class="form-group">
                <label for="inp_group_name">{{transl 'prj_chat_group_name'}}</label>
                <input type="text" data-name="name" class="form-control objData" id="inp_group_name" placeholder="{{transl 'prj_chat_group_name_enter'}}" data-validation="required">
			</div>
			<div class="form-group">
                <label for="inp_group_name">{{transl 'prj_chat_group_typ'}}</label>
                <div class="select-wrapper">
					<select id="chat_group_typ" data-name="typ02" data-validation="required number" class="objData form-control">
						<option value="401">{{transl 'prj_chat_group_typ_pri'}}</option>
						<option value="402">{{transl 'prj_chat_group_typ_pub'}}</option>
					</select>
				</div>
            </div>
            <div class="row">
            	<div class="col-lg-6 col-md-6 col-sm-12 form-group mb-4">		
		            <div class="form-group">
		                <label for="inp_group_descr">{{transl 'prj_chat_group_descr'}}</label>
		                <textarea class="form-control objData" data-name="descr" rows="5" id="inp_group_descr" placeholder="{{transl 'prj_chat_group_descr_enter'}}" cols=""></textarea>
		            </div>
		         </div>
				<div class="col-lg-6 col-md-6 col-sm-12 form-group mb-4">
					<label for="inp_group_descr">{{transl 'prj_chat_group_avatar'}}</label>
					<div id="frm_dropzone_send" class="fallback">

						<form action="/" method="post" class="dropzone inputfile">
							<div class="fallback">
								<input data-name="files" type="file" class="objData" data-typ01="10" data-typ02="1">
							</div>

							<div class="dz-message needsclick">
								<div class="mb-3">
									<i class="display-4 text-muted bx bxs-cloud-upload"></i>
								</div>
								<h4>{{transl 'prj_project_drop_files'}}</h4>
							</div>
						</form>
					</div>
				</div>
				
		        </div>   
            <button id="btn_create_group" class="btn btn-primary" type="button">{{transl 'prj_chat_group_new_btn_create'}}</button>
        </div>
    </div>
</div>

<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Group_Relate -->
<ul class="list-unstyled chat-list" data-simplebar style="max-height: calc(100vh - 350px)';">
{{#each this}}
	{{#ifCond typ01 '==' 201}}
    <li class="chat-element">
        <a href="javascript:void(0)" class="chat-item-history {{#if hasNewMsg}}has-new-msg-item{{/if}}" data-id="{{id}}"  data-typ01="{{typ01}}">
            <div class="media align-items-center">
            	<div class="align-self-center mr-3">
                     <i class="bx bx-group font-size-14"></i>
               </div>
               {{#if val01}}
               <div class="align-self-center mr-3">
                   <img src="{{val01.img}}" class="rounded-circle avatar-xs" alt="" onerror="{{imageErrorUser}}">
               </div>
               {{else}}
                <div class="avatar-xs mr-3">
                    <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                        {{reqFirstLetter name}}
                    </span>
                </div>
                {{/if}}
                <div class="media-body">
                    <h5 class="font-size-14 mb-0">{{name}}</h5>
                </div>
            </div>
        </a>
         <div class="show_chat_room" data-typ="2"  data-id="{{id}}">
                <i class="mdi mdi-content-copy font-size-16 float-right"></i>
          </div>
    </li>
    {{/ifCond}}
    {{#ifCond typ01 '==' 200}}
	 <li class="chat-element">
            <a href="javascript:void(0)"  class="chat-item-history {{#if hasNewMsg}}has-new-msg-item{{/if}}" data-id="{{id}}" data-typ01="{{typ01}}" >
                <div class="media align-items-center">
                    <div class="align-self-center mr-3">
                        <i class="mdi mdi-circle font-size-10 {{#if isOnline}}text-success{{/if}}"></i>
                    </div>
                    <div class="align-self-center mr-3">
                    	{{#if avatar}}
                        <img src="{{avatar}}" class="rounded-circle avatar-xs" alt="" onerror="{{imageErrorUser}}">
                        {{else}}
                        <div class="rounded-circle avatar-xs text-white text-uppercase" style='background-color: {{reqSrcTextColorRelateChat login01}}'><div class="text-middle">{{reqSrcTextAvatarRelateChat login01}}</div></div>
                        {{/if}}
                    </div>
                    
                    <div class="media-body overflow-hidden">
                        <h5 class="text-truncate font-size-14 mb-1">{{reqSrcTextLoginRelateChat login01}}</h5>
                    </div>
                </div>
            </a>
            <div class="show_chat_room" data-typ="1"  data-id="{{id}}">
                        <i class="mdi mdi-content-copy font-size-16 float-right"></i>
                    </div>
        </li>
     {{/ifCond}}
{{/each}}
</ul>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Msg_New -->
<a id= "a_grp_{{objIDGrp}}" href="javascript: void(0);" class="team-member new_msg d-inline-block" data-toggle="tooltip" data-placement="top" data-idgrp="{{objIDGrp}}" data-idsend="{{uIDSend}}" 
		data-namesend="{{uNameSend}}" data-name="{{name}}" data-typ01="{{typ01}}"
    	{{#ifCond typ01 '==' 200}} data-original-title="{{uNameSend}}" {{/ifCond}} {{#ifCond typ01 '==' 201}} data-original-title="{{name}}" {{/ifCond}}>
    	{{#ifCond typ01 '==' 200}}
    		{{#if avatar}}
		    	<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
		     {{else}} 
		    	{{#ifCond avatar '==' null}}
		    	<div class="rounded-circle avatar-xs m-1 text-white text-uppercase" style="background-color: {{reqSrcTextColor uNameSend}}"><div class="text-middle">{{reqSrcTextAvatar uNameSend}}</div></div>
		    	{{else}}
		      	<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
		      	{{/ifCond}}
		     {{/if}}
	     {{/ifCond}}
	     
	     {{#ifCond typ01 '==' 201}}
	     	{{#if avatar}}
		    	<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
		     {{else}}
		     	{{#ifCond avatar '==' null}}
		    	<div class="rounded-circle avatar-xs m-1 text-uppercase"><div class="avatar-title rounded-circle bg-soft-primary text-primary">{{reqFirstLetter name}}</div></div>
		    	{{else}}
		      	<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
		      	{{/ifCond}}
		     {{/if}}
	     {{/ifCond}}
</a>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Msg_UnRead -->
<div id= "div_grpChat_unRead" class="team d-flex">
    {{#each this}}
    <a id= "a_grp_{{id}}" href="javascript: void(0);" class="team-member new_msg d-inline-block" data-toggle="tooltip" data-placement="top" data-idgrp="{{id}}" data-idsend="{{msgUId}}" data-namesend="{{msgUName}}" data-name="{{name}}" data-typ01="{{typ01}}"
    	{{#ifCond typ01 '==' 200}} data-original-title="{{msgUName}}" {{/ifCond}} {{#ifCond typ01 '==' 201}} data-original-title="{{name}}" {{/ifCond}}>
    	{{#ifCond typ01 '==' 200}}
    		{{#if avatar}}
	     		<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
	     	{{else}}
		    	{{#ifCond avatar '==' null}}
		    	<div class="rounded-circle avatar-xs m-1 text-white text-uppercase" style="background-color: {{reqSrcTextColor msgUName}}"><div class="text-middle">{{reqSrcTextAvatar msgUName}}</div></div>
		    	{{else}}
		      	<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
		      	{{/ifCond}}
		    {{/if}}
	     {{/ifCond}}
	     {{#ifCond typ01 '==' 201}}
	     	{{#if avatar}}
	     		<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
	     	{{else}}
	     		{{#ifCond avatar '==' null}}
		    	<div class="rounded-circle avatar-xs m-1 text-uppercase"><div class="avatar-title rounded-circle bg-soft-primary text-primary">{{reqFirstLetter name}}</div></div>
		    	{{else}}
		      	<img src="{{avatar}}" class="rounded-circle avatar-xs m-1" alt="" onerror="{{imageErrorUser}}">
		      	{{/ifCond}}
	     	{{/if}}
	     {{/ifCond}}
	 </a>
	{{/each}}
</div>
<!--END TMPL-->

			
	


<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Member -->
<div class="card card-body">
	   	<div class="media">
	   		<div class="col-sm-7">
<!-- 	   			<a href="#" class="text-dark font-size-14 mt-3 font-weight-bold" id="btn_back_chat"> -->
<!-- 					<i class="mdi mdi-arrow-left font-size-18 mr-2"></i> -->
<!-- 				</a> -->
	   			<h4 class="card-title mb-4 media-body d-inline">{{transl 'prj_chat_member'}}</h4>
	   		</div>
	   		<div class="col-sm-5 ml-auto">
	   			<div class="dropdown float-right">
                     <a href="#" class="dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false">
                         <i class="mdi mdi-dots-vertical font-size-18"></i>
                     </a>
                     
		            <a data-divtoggle="#tabMember" class="btn-resize btn-resize-mobile-hide" data-toggle="tooltip" data-placement="top" title="" data-original-title="Resize">
		            	 <i class="mdi mdi-window-minimize font-size-18"></i>
		            </a>
                     <ul class="dropdown-menu dropdown-menu-right" style="transform: unset!important;">
                         <li><a href="#" class="dropdown-item" id="btn_refresh"><i class="mdi mdi-refresh font-size-16 text-primary mr-1"></i> {{transl 'common_btn_refresh'}}</a></li>
                     </ul>
                 </div>
	   		</div>
		</div>
        <div id="tabMember" class="table-responsive" style="overflow: unset;">
        	<div id="tab_member_detail"></div>
            <nav class="wygo-pagination"></nav>
            <div class="td-mem-action">
				<input type="text" class="inner form-control ui-autocomplete-input" id="inp_name_member" placeholder="{{transl 'prj_chat_member_add'}}">
	        </div>
	        
	        <div class="td-mem-action mt-3 hide">
				<input type="text" class="inner form-control" id="inp_mail_member" placeholder="{{transl 'prj_chat_member_add_with_mail'}}">
				<button id="btn-add-member-with-mail" class="btn btn-primary mt-2 float-right">{{transl "prj_chat_member_add_with_mail_btn"}}</button>
	        </div>
	        
        </div>
    </div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Member_Detail -->
<table class="table table-centered table-nowrap table-member-detail">
    <tbody>
        {{#each this}}
		{{#equal stat '1'}}
         <tr>
         	 <td><i class="mdi mdi-circle font-size-10 {{#if isOnline}}text-success{{/if}}"></i></td>
             <td>
             	{{#if mem.avatar}}
             	<img src="{{reqSrcAvatarMember mem}}" class="rounded-circle avatar-xs" alt="" onerror="{{imageErrorUser}}">
             	{{else}}
             	<div class="rounded-circle avatar-xs text-white text-uppercase" style="background-color: {{reqSrcTextColor mem.login01}}"><div class="text-middle">{{reqSrcTextAvatar mem.login01}}</div></div>
        	{{/if}}
        </td>
        <td class="small_hide">{{reqNameMember mem.login01}}</td>
        <td>{{reqLevelMember typ}}</td>
        <td class="div_member_detail" data-id="{{uId}}"><i class="mdi mdi-chat-outline font-size-18 text-success cursor-pointer"></i></td>
        {{#notEqual typ '10'}}
        <td class="td-mem-action">
        	{{#if (hasRightTransformChat @root)}}
        	{{#equal typ '2'}}
            <div class="dropdown">
                <a href="#" class="dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false">
                    <i class="mdi mdi-dots-vertical font-size-18"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-right">
<!--                              	{{#equal typ '0'}}<li><a data-transform="2" data-id="{{id}}" data-memid="{{uId}}" href="#" class="dropdown-item btn-transform"><i class="mdi mdi-pencil font-size-16 text-success mr-1"></i>{{transl 'prj_chat_member_to_worker'}}</a></li>{{/equal}} -->
                     		<li><a data-transform="0" data-id="{{id}}" data-memid="{{uId}}" href="#" class="dropdown-item btn-transform"><i class="mdi mdi-pencil font-size-16 text-success mr-1"></i>{{transl 'prj_chat_member_to_man'}}</a></li>
                         	<li><a data-id="{{id}}" data-memid="{{uId}}" href="#" class="dropdown-item btn-remove-group"><i class="mdi mdi-trash-can font-size-16 text-danger mr-1"></i>{{transl 'prj_chat_member_remove'}}</a></li>
                     </ul>
                 </div>
                 {{/equal}}
                 {{/if}}
             </td>
             {{/notEqual}}
         </tr>
        {{/equal}}
		{{/each}}
	</tbody>
</table>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Member_Wait -->
<div class="card card-body remove-padding-bottom">
	   	<div class="media">
	   		<div class="col-sm-8">
	   			<h4 class="card-title media-body">{{transl 'prj_chat_member_wait'}}</h4>
	   		</div>
	   		<div class="col-sm-4">
	   			<div class="dropdown float-right">
                     <a href="#" class="dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false">
                         <i class="mdi mdi-dots-vertical font-size-18"></i>
                     </a>
                     <a data-divtoggle="#tabMemberWait" class="btn-resize cursor-pointer btn-resize-mobile-hide" data-toggle="tooltip" data-placement="top" title="" data-original-title="Resize">
		            	 <i class="mdi mdi-window-minimize font-size-18"></i>
		            </a>
                     <ul class="dropdown-menu dropdown-menu-right" style="transform: unset!important;">
                         <li><a href="#" class="dropdown-item" id="btn_refresh_wait"><i class="mdi mdi-refresh font-size-16 text-primary mr-1"></i> {{transl 'common_btn_refresh'}}</a></li>
                     </ul>
                 </div>
	   		</div>
		</div>
        <div id="tabMemberWait" class="table-responsive remove-overflow">
             <table class="table table-centered table-nowrap">
                 <tbody>
                 {{#each this}}
			     {{#equal stat '1'}}
                 <tr>
                 	 <td><i class="mdi mdi-circle font-size-10 {{#if isOnline}}text-success{{/if}}"></i></td>
                     <td>
                     	{{#if mem.avatar}}
                     	<img src="{{reqSrcAvatarMember mem}}" class="rounded-circle avatar-xs" alt="" onerror="{{imageErrorUser}}">
                     	{{else}}
                     	<div class="rounded-circle avatar-xs text-white text-uppercase" style="background-color: {{reqSrcTextColor mem.login01}}"><div class="text-middle">{{reqSrcTextAvatar mem.login01}}</div></div>
                     	{{/if}}
                     </td>
                     <td class="small_hide">{{reqNameMember mem.login01}}</td>
                     <td>
                         <div class="dropdown">
                             <a href="#" class="dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false">
                                 <i class="mdi mdi-dots-horizontal font-size-18"></i>
                             </a>
                             <ul class="dropdown-menu dropdown-menu-right" style="transform: unset!important;">
                                 <li><a data-id="{{id}}" data-memid="{{uId}}" href="#" class="dropdown-item member-validate"><i class="mdi mdi-pencil font-size-16 text-success mr-1"></i> {{transl 'prj_chat_member_wait_validate'}}</a></li>
                                 <li><a data-id="{{id}}" data-memid="{{uId}}" href="#" class="dropdown-item member-refuse"><i class="mdi mdi-trash-can font-size-16 text-danger mr-1"></i> {{transl 'prj_chat_member_wait_refus'}}</a></li>
                             </ul>
                         </div>
                     </td>
                 </tr>
                 {{/equal}}
			     {{/each}}
                </tbody>
            </table>
        </div>
</div>
<!--END TMPL-->


<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Tab_Chat_Video -->
<div>
	{{#equal role 'master'}}
	<div id="master" style="position :relative">
           <div class="row row_containe_video_master_1 row_stream_master" style="">
               <div class="col-12 col-sm-12 row_containe_video_master">
                   <div class="video-container" style="position:relative; height: 100%;">
                       <i class="btn_lst_video bx bx-collapse hidden" data-role="master"></i>
                       <i class="btn_chat_in_video bx bx-plus hidden" data-role="master"></i>
                       <video id="video-master" class="local-view w-100 video-max" autoplay playsinline controls muted ></video>
                       <i class="btn_zoom_video bx bx-zoom-in" data-role="master"></i>
                   </div>
               </div>
               {{#ifCond nbViewer '==' 1}}
               <div class='col-12 col-sm-12 row-multi-viewer'>
           		<div class="mg-right mt-2 row_containe_video_viewer" id="tile-user">
                    <!-- <div class="video-container" style="position:relative; height: 100%;"><video class="remote-view video-max video_max_height" autoplay playsinline controls></video><i class="btn_zoom_video bx bx-zoom-in" data-role="viewer"></i></div> -->
                   </div>
               </div>
               {{/ifCond}}
               {{#ifCond nbViewer '>' 1}}
               <div class='col-12 col-sm-12 row-multi-viewer' id="tile-user">
                   <!-- {{#for 0 nbViewer 1}}
                <div class="mg-right mt-2 row_containe_video_viewer">
                    <div class="video-container" style="position:relative; height: 100%;"><video class="remote-view video_max_height" autoplay playsinline controls></video></div>
                   </div>
                   {{/for}} -->
               </div>
               {{/ifCond}}
           </div>
           
           <div class="mt-3 mb-3" style="text-align: center">
               <button id="stop-master-button" type="button" class="btn btn-danger">{{transl 'prj_chat_video_end_call'}}</button>
           </div>
       </div>
       {{/equal}}
	{{#equal role 'viewer'}}
       <div id="video-viewer">
           <div class="row" style="position :relative">
           	<div class="col-12 col-sm-12 row_containe_video_master">
                   <div class="video-container" style="position:relative; height: 100%;"><video class="remote-view w-100 video-max video_max_height" autoplay playsinline controls></video><i class="btn_zoom_video bx bx-zoom-in" data-role="master"></i></div>
               </div>
               <div class="col-12 col-sm-12 row_containe_video_viewer">
                   <div class="video-container" style="position:relative; height: 100%;"><video class="local-view w-100 video-max video_max_height" autoplay playsinline controls muted></video><i class="btn_zoom_video bx bx-zoom-in" data-role="viewer"></i></div>
               </div>
           </div>
           <div class="mt-3" style="text-align: center">
                <button id="stop-viewer-button" type="button" class="btn btn-danger">{{transl 'prj_chat_video_end_call'}}</button>
            </div>
        </div>
        {{/equal}}
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL:ChatRoom_Popup_Chat_Video -->
<div class="incoming_call_content">
	<div class="media align-items-center">
        <div class="media-body overflow-hidden">
            <p class="text-truncate font-size-14 mb-1"><span style="text-transform: uppercase;"><b>{{userCall}}</b></span> {{transl 'prj_chat_create_call'}}</p>
            <p class="text-truncate font-size-14 mb-1">{{transl 'prj_chat_create_call_01'}}</p>
        </div>
   </div>
</div>
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->
<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->

<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->
	
<!--************************************-->
<!--BEGIN TMPL-->
<!--NAME TMPL: -->
<!--END TMPL-->